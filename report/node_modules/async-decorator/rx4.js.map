{"version":3,"sources":["webpack://async-decorator/webpack/universalModuleDefinition","webpack://async-decorator/webpack/bootstrap","webpack://async-decorator/./src/rx-decorator.js","webpack://async-decorator/./src/rx4.js","webpack://async-decorator/external \"react\"","webpack://async-decorator/external \"rx\""],"names":["disabled","__disableAsyncDecorator","inTestingEnv","jasmine","React","fromEventPattern","MakeAsyncDecorator","DecoratedComponent","originalDisplayName","displayName","name","props","observableCache","prop","propFunctions","push","h","setTimeout","propEvents","thingsToCancel","length","Error","forEach","thingToCancel","dispose","cancel","unsubscribe","mounted","disposables","disposable","el","stream","cancelWhenUnmounted","cancelAllSubscriptions","prevProps","Object","keys","event","propFunction","func","Component","thing","rx","Observable"],"mappings":"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","file":"rx4.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"rx\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"rx\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"async-decorator\"] = factory(require(\"react\"), require(\"rx\"));\n\telse\n\t\troot[\"async-decorator\"] = factory(root[\"react\"], root[\"rx\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE_react__, __WEBPACK_EXTERNAL_MODULE_rx__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/rx4.js\");\n","const disabled =\n  typeof __disableAsyncDecorator === \"undefined\"\n    ? false\n    : __disableAsyncDecorator; // eslint-disable-line\n\nconst inTestingEnv = typeof jasmine !== \"undefined\";\n\nexport default function(React, fromEventPattern) {\n\n  return function MakeAsyncDecorator(DecoratedComponent) {\n    if (disabled) {\n      return DecoratedComponent;\n    }\n\n    const originalDisplayName =\n      DecoratedComponent.displayName || DecoratedComponent.name;\n\n    return class AsyncDecorator extends React.Component {\n      // Don't change display name in tests, so that snapshots and wrapper.find('CompName') works.\n      // But in browser/non-tests react-dev-tools are easier to understand with a slightly altered display name\n      static displayName = inTestingEnv\n        ? originalDisplayName\n        : `AsyncDecorator(${originalDisplayName})`;\n\n      observableCache = {};\n      propEvents = {};\n      propFunctions = [];\n\n      disposables = [];\n      mounted = true;\n\n      constructor(props) {\n        super(props);\n      }\n\n      render() {\n        return (\n          <DecoratedComponent\n            {...this.props}\n            ref={el => this.el = el}\n            stream={this.stream}\n            cancelWhenUnmounted={this.cancelWhenUnmounted}\n            cancelAllSubscriptions={this.cancelAllSubscriptions}\n          />\n        );\n      }\n\n      componentDidUpdate(prevProps) {\n        Object.keys(this.propEvents).forEach(prop => {\n          if (prevProps[prop] !== this.props[prop]) {\n            this.propEvents[prop].forEach(event => event(this.props[prop]));\n          }\n        });\n\n        this.propFunctions.forEach(propFunction => {\n          const [func, event] = propFunction;\n\n          if (func(prevProps) !== func(this.props)) {\n            event(func(this.props));\n          }\n        });\n      }\n\n      componentWillUnmount() {\n        this.cancelAllSubscriptions();\n        this.mounted = false;\n      }\n\n      stream = prop => {\n        if (this.observableCache[prop]) return this.observableCache[prop];\n\n        this.observableCache[prop] = fromEventPattern(\n          h => {\n            if (typeof prop === \"function\") {\n              this.propFunctions.push([prop, h]);\n              setTimeout(() => h(prop(this.props)));\n            } else {\n              this.propEvents[prop] = [...this.propEvents[prop], h];\n              setTimeout(() => h(this.props[prop]));\n            }\n          },\n          h => {}\n        );\n\n        return this.observableCache[prop];\n      };\n\n      cancelWhenUnmounted = (...thingsToCancel) => {\n        if (thingsToCancel.length === 0) {\n          throw new Error(\n            `cancelWhenUnmounted should be called with one or more cancelables (an object with a dispose, unsubscribe, or cancel function)`\n          );\n        }\n\n        thingsToCancel.forEach(thingToCancel => {\n          if (\n            !thingToCancel ||\n            (typeof thingToCancel.dispose !== \"function\" &&\n              typeof thingToCancel.cancel !== \"function\" &&\n              typeof thingToCancel.unsubscribe !== \"function\")\n          ) {\n            throw new Error(\n              `cancelWhenUnmounted should be called with one or more cancelables (an object with a dispose, unsubscribe, or cancel function)`\n            );\n          }\n\n          if (this.mounted) {\n            this.disposables.push(thingToCancel);\n          } else {\n            // They called cancelWhenUnmounted after the component unmounted...\n            cancel(thingToCancel);\n          }\n        });\n      };\n\n      cancelAllSubscriptions = () => {\n        this.disposables.forEach(disposable => {\n          cancel(disposable);\n        });\n\n        this.disposables = [];\n      };\n    };\n  };\n}\n\nfunction cancel(thing) {\n  if (typeof thing.dispose === \"function\") {\n    thing.dispose();\n  } else if (typeof thing.unsubscribe === \"function\") {\n    thing.unsubscribe();\n  } else if (typeof thing.cancel === \"function\") {\n    thing.cancel();\n  } else {\n    // Don't throw an error when we can't cancel the thing they passed in.\n  }\n}\n","import React from \"react\";\nimport rx from \"rx\";\n\nimport makeAsyncDecorator from './rx-decorator.js';\n\nexport default makeAsyncDecorator(React, rx.Observable.fromEventPattern);\n","module.exports = __WEBPACK_EXTERNAL_MODULE_react__;","module.exports = __WEBPACK_EXTERNAL_MODULE_rx__;"],"sourceRoot":""}